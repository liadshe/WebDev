<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Main Page</title>
  <link rel="stylesheet" href="/settings.css">
</head>
<body class="settings-page">
     <!-- Sidebar -->
  <div class="sidebar">
    <a href="/main" class="back-link">
        ‚Üê Back to main page
    </a> 
    <a href="/settings"  class="active">Manage Profiles</a>
    <a href="/statistics">Statistics</a>
  </div>
  <!-- Manage Profiles Page -->
 <div class="manage-profiles">
    <h2 style="text-align: left;">Welcome, <%= username %>!</h2>
    <ul class="profile-list">
      <% profiles.forEach(function(profile) { %>
        <li class="profile-item">
          <div class="profile-left">
            <img src="<%= profile.picture %>" alt="<%= profile.name %>">
            <span class="name"><a class="profile-link" href="/settings/edit/<%= profile.id %>"><%= profile.name %></a></span>
          </div>
          <div class="profile-right">
            <span class="arrow">&gt;</span>
          </div>
        </li>
      <% }); %>
    </ul>
    <div class="profile-left">
      <% if (!profiles || profiles.length < 5) { %>
        <span class="name"><a class="profile-link" href="/settings/createProfile">Create New Profile</a></span>
      <% } else { %>
        <span class="name">
          <button class="profile-link disabled" disabled title="Maximum of 5 profiles reached">Create New Profile (limit reached)</button>
        </span>
        <div class="hint" style="color:var(--color-gray-300); font-size:0.9rem; margin-top:0.5rem;">You have reached the maximum of 5 profiles. Delete an existing profile to create a new one.</div>
      <% } %>
    </div>
  </div>  
</body>
</html>
