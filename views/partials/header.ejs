<style src="/public/style.css"></style>
<header class="top-menu">
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/settings.css" />
    <link rel="stylesheet" href="/css/search.css" />
  <nav>
    <ul>
      <li class="logo">
        <a href="main">
          <img src="/images/Blanfix.png" alt="Logo" style="height: 30px; vertical-align: middle;">
        </a>
      </li>
      <li><a href="/main?type=all" class="active">Home</a></li>
      <li><a href="/main?type=series">TV Shows</a></li>
      <li><a href="/main?type=movies">Movies</a></li>

        <!-- Genre Dropdown Filter -->
      <li class="genre-dropdown" id="genreDropdown">
        <a href="#" id="genreToggle" style="display: flex; align-items: center;">
          Genres <span style="margin-left: 5px; font-size: 10px;">▼</span>
        </a>
        <div class="genre-menu" id="genreMenu" data-genres='<%= JSON.stringify(allGenres || []) %>'>
          <div class="genre-option active" data-genre="all">
            <span>All Genres</span>
          </div>
        </div>
      </li>


      <!-- add add-content only if admin is connected -->
      <% if (user.username == 'admin') { %>
        <li><a href="/content">Add Content</a></li>
      <% } %>
      <meta name="google" content="notranslate">
        <meta http-equiv="Content-Language" content="en">
        <div id="google_translate_wrapper">
        <div id="google_translate_element" style="display:none"> </div>
        <div class="translate-buttons">
      <button onclick="changeLanguage('en')" class="lang-btn"> English </button>
      <button onclick="changeLanguage('iw')" class="lang-btn"> Hebrew </button>
    </div>
        </div>


      <li class="right-icons">
          <!-- Sort Dropdown -->
          <div class="sort-dropdown" id="sortDropdown">
          <div id="sortToggle" style="display: flex; align-items: center; cursor: pointer; color: white;">
            Sort <span style="margin-left: 5px; font-size: 10px;"></span>
          </div>
          <div class="sort-menu" id="sortMenu">
            <a href="#" class="sort-option active" data-sort="default">Default</a>
            <a href="#" class="sort-option" data-sort="a-z">A → Z</a>
            <a href="#" class="sort-option" data-sort="newest">10 Newest</a>
          </div>
        </div>


        <div class="search-container">
          <img src="/images/search.png" alt="Search" id="search-icon" style="height:25px; cursor: pointer;">
          <div class="search-box" id="search-box">
            <input type="text" id="search-input" placeholder="Search movies..." autocomplete="off">
            <button id="close-search">✕</button>
          </div>
        </div>
        
        <!-- Profile dropdown with click functionality -->
        <div class="profile-dropdown" id="profileDropdown">
          <img src="/images/<%= profile.picture || 'default.jpg' %>" alt="Profile" class="profile-icon" id="profileIcon" style="height:30px; border-radius:30%; cursor: pointer;">
          <div class="dropdown-menu" id="dropdownMenu">
            <a href="/profiles">Switch Profile</a>
            <a href="/settings">Account Settings</a>
            <hr style="margin: 5px 0; border-color: #444;">
            <a href="/logout" class="sign-out">Sign Out</a>
          </div>
        </div>
      </li>
    </ul>
  </nav>
</header>
    <script src="/js/translate.js"> </script>
    <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <script src="/js/search.js"></script>
    <script src="/js/genre-filter.js"></script>
    <script src="/js/sort.js"></script>
    <script src="/js/profile-dropdown.js"></script>


    